<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>DH Group Real Estate</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
        <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
        <style>
            body { margin:0; padding:0; font-family: Arial, sans-serif; }
            #map { height: 100vh; width: 100vw; }
            .title-box {
                position: absolute;
                top: 10px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(255,255,255,0.9);
                padding: 12px 20px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                z-index: 1000;
                pointer-events: none;
                text-align: center;
                min-width: 150px;
            }
            .title-box h1 { margin:0; font-size: 24px; color: #222222; }
            .leaflet-popup-content { min-width: 250px; }
            .copy-btn { margin-top: 10px; padding: 6px 12px; background: #4f94f0; color: white; border: none; border-radius: 4px; cursor: pointer; }
            .copy-btn:hover { background: #4f94e0; }
        </style>
    </head>
    <body>
        <div class="title-box">
            <h1>DH Group</h1>
        </div>
        <div id="map"></div>
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
        <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
        <script>
            const companyColor = '#4f94f0';
            const borderColor   = '#6c757d';
            const map = L.map('map').setView([50.5, 5.0], 8);

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; OpenStreetMap contributors'
            }).addTo(map);

            L.Control.geocoder({
                defaultMarkGeocode: false,
                placeholder: 'Search for an address…'
            }).addTo(map);

            const propertyLayer = L.featureGroup().addTo(map);

            const properties = [
                {
                    type: 'point',
                    name: 'Headquarters Brussels',
                    category: 'office',
                    status: 'Privé eigendom',
                    coords: [50.8503, 4.3517]
                },
                {
                    type: 'point',
                    name: 'Apartment Ghent',
                    category: 'residential',
                    status: 'Verhuurd',
                    coords: [51.0575, 3.7204]
                },
                {
                    type: 'polygon',
                    name: 'Agricultural Field near Antwerp',
                    category: 'marketing',
                    status: 'Te koop',
                    coords: [
                    [51.260, 4.350],
                    [51.260, 4.500],
                    [51.300, 4.500],
                    [51.300, 4.350]
                    ]
                }
            ];

            properties.forEach(prop => {
                let layer;

                if (prop.type === 'point') {
                    layer = L.circleMarker(prop.coords, {
                    radius: 12,
                    color: borderColor,
                    weight: 3,
                    fillColor: companyColor,
                    fillOpacity: 0.8
                    });
                } else if (prop.type === 'polygon') {
                    layer = L.polygon(prop.coords, {
                    color: borderColor,
                    weight: 4,
                    fillColor: companyColor,
                    fillOpacity: 0.5
                    });
                }

                if (layer) {
                    const propInfoText = `Name: ${prop.name}\nCategory: ${prop.category}\nStatus: ${prop.status}\n`;
                    const fullPopup = `
                        <b>${prop.name}</b><br>
                        Category: ${prop.category}<br>
                        Status: ${prop.status}<br>
                        <div style="margin-top: 10px;">
                            <button class="copy-btn" onclick="copyPropInfo('${propInfoText.replace(/\n/g, '\\n')}')">Copy Info</button>
                        </div>
                    `;
                    layer.addTo(propertyLayer).bindPopup(fullPopup);
                }
            });

            function copyPropInfo(text) {
                navigator.clipboard.writeText(text.replace(/\\n/g, '\n')).then(() => alert('Property info copied to clipboard!')).catch(err => alert('Failed to copy: ' + err));
            }

            if (properties.length > 0) {
                map.fitBounds(propertyLayer.getBounds().pad(0.3));
            }
        </script>
    </body>
</html>